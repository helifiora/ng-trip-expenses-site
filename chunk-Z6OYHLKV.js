import{a as ui,b as fi,c as mi,f as hi,g as Re,h as Fe}from"./chunk-WFC2FFS5.js";import{a as gi}from"./chunk-EV2PBWLP.js";import{E as Ie,F as li,J as di,M as ci,a as Se,b as Kt,c as Yt,d as Jt,i as ei,l as ti,m as ii,n as ni,o as ri,p as oi,v as ai,y as si}from"./chunk-IDYUNARR.js";import{$a as B,Aa as Tt,Bb as ce,Cb as Bt,Cc as Wt,D as bt,Db as De,Ea as ee,Eb as Lt,Fb as dt,Ga as $,Gc as Gt,Ha as Dt,Ia as it,Jc as Xt,Ka as At,Kb as Ae,La as Q,M as Ye,Ma as kt,Mb as qt,Nb as jt,Sa as Te,Sb as ke,Sc as pi,Ta as te,Tb as ae,Ua as ie,Ub as Zt,Va as St,W as le,Wa as ne,Xa as re,Y as y,Ya as j,Za as b,_a as w,aa as Je,ab as nt,ac as Ut,ba as et,c as Ne,ca as yt,cb as xe,db as de,eb as rt,fa as Mt,fb as oe,gb as ot,h as me,hb as at,ib as _e,j as vt,jb as ve,kc as Vt,la as ge,lc as zt,na as Pe,oa as Et,ob as It,pb as W,qa as tt,ra as Ct,rb as T,rc as we,sc as $t,tb as L,ub as Rt,uc as Qt,va as M,vb as Ft,wa as Nt,wb as Ot,x as wt,xb as Ht,y as he,ya as Pt,yb as st,zb as lt}from"./chunk-RLTR4EYR.js";var pe=9e15,Y=1e9,ct="0123456789abcdef",Be="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Le="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",pt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-pe,maxE:pe,crypto:!1},wi,z,_=!0,je="[DecimalError] ",K=je+"Invalid argument: ",bi=je+"Precision limit exceeded",yi=je+"crypto unavailable",Mi="[object Decimal]",I=Math.floor,D=Math.pow,qi=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ji=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Zi=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Ei=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,q=1e7,g=7,Ui=9007199254740991,Vi=Be.length-1,ut=Le.length-1,f={toStringTag:Mi};f.absoluteValue=f.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),h(e)};f.ceil=function(){return h(new this.constructor(this),this.e+1,2)};f.clampedTo=f.clamp=function(e,i){var t,n=this,r=n.constructor;if(e=new r(e),i=new r(i),!e.s||!i.s)return new r(NaN);if(e.gt(i))throw Error(K+i);return t=n.cmp(e),t<0?e:n.cmp(i)>0?i:new r(n)};f.comparedTo=f.cmp=function(e){var i,t,n,r,o=this,a=o.d,s=(e=new o.constructor(e)).d,d=o.s,l=e.s;if(!a||!s)return!d||!l?NaN:d!==l?d:a===s?0:!a^d<0?1:-1;if(!a[0]||!s[0])return a[0]?d:s[0]?-l:0;if(d!==l)return d;if(o.e!==e.e)return o.e>e.e^d<0?1:-1;for(n=a.length,r=s.length,i=0,t=n<r?n:r;i<t;++i)if(a[i]!==s[i])return a[i]>s[i]^d<0?1:-1;return n===r?0:n>r^d<0?1:-1};f.cosine=f.cos=function(){var e,i,t=this,n=t.constructor;return t.d?t.d[0]?(e=n.precision,i=n.rounding,n.precision=e+Math.max(t.e,t.sd())+g,n.rounding=1,t=zi(n,Di(n,t)),n.precision=e,n.rounding=i,h(z==2||z==3?t.neg():t,e,i,!0)):new n(1):new n(NaN)};f.cubeRoot=f.cbrt=function(){var e,i,t,n,r,o,a,s,d,l,c=this,p=c.constructor;if(!c.isFinite()||c.isZero())return new p(c);for(_=!1,o=c.s*D(c.s*c,1/3),!o||Math.abs(o)==1/0?(t=A(c.d),e=c.e,(o=(e-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=D(t,1/3),e=I((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new p(t),n.s=c.s):n=new p(o.toString()),a=(e=p.precision)+3;;)if(s=n,d=s.times(s).times(s),l=d.plus(c),n=C(l.plus(c).times(s),l.plus(d),a+2,1),A(s.d).slice(0,a)===(t=A(n.d)).slice(0,a))if(t=t.slice(a-3,a+1),t=="9999"||!r&&t=="4999"){if(!r&&(h(s,e+1,0),s.times(s).times(s).eq(c))){n=s;break}a+=4,r=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(h(n,e+1,1),i=!n.times(n).times(n).eq(c));break}return _=!0,h(n,e,p.rounding,i)};f.decimalPlaces=f.dp=function(){var e,i=this.d,t=NaN;if(i){if(e=i.length-1,t=(e-I(this.e/g))*g,e=i[e],e)for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t};f.dividedBy=f.div=function(e){return C(this,new this.constructor(e))};f.dividedToIntegerBy=f.divToInt=function(e){var i=this,t=i.constructor;return h(C(i,new t(e),0,1,1),t.precision,t.rounding)};f.equals=f.eq=function(e){return this.cmp(e)===0};f.floor=function(){return h(new this.constructor(this),this.e+1,3)};f.greaterThan=f.gt=function(e){return this.cmp(e)>0};f.greaterThanOrEqualTo=f.gte=function(e){var i=this.cmp(e);return i==1||i===0};f.hyperbolicCosine=f.cosh=function(){var e,i,t,n,r,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;t=a.precision,n=a.rounding,a.precision=t+Math.max(o.e,o.sd())+4,a.rounding=1,r=o.d.length,r<32?(e=Math.ceil(r/3),i=(1/Ue(4,e)).toString()):(e=16,i="2.3283064365386962890625e-10"),o=ue(a,1,o.times(i),new a(1),!0);for(var d,l=e,c=new a(8);l--;)d=o.times(o),o=s.minus(d.times(c.minus(d.times(c))));return h(o,a.precision=t,a.rounding=n,!0)};f.hyperbolicSine=f.sinh=function(){var e,i,t,n,r=this,o=r.constructor;if(!r.isFinite()||r.isZero())return new o(r);if(i=o.precision,t=o.rounding,o.precision=i+Math.max(r.e,r.sd())+4,o.rounding=1,n=r.d.length,n<3)r=ue(o,2,r,r,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,r=r.times(1/Ue(5,e)),r=ue(o,2,r,r,!0);for(var a,s=new o(5),d=new o(16),l=new o(20);e--;)a=r.times(r),r=r.times(s.plus(a.times(d.times(a).plus(l))))}return o.precision=i,o.rounding=t,h(r,i,t,!0)};f.hyperbolicTangent=f.tanh=function(){var e,i,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,i=n.rounding,n.precision=e+7,n.rounding=1,C(t.sinh(),t.cosh(),n.precision=e,n.rounding=i)):new n(t.s)};f.inverseCosine=f.acos=function(){var e=this,i=e.constructor,t=e.abs().cmp(1),n=i.precision,r=i.rounding;return t!==-1?t===0?e.isNeg()?Z(i,n,r):new i(0):new i(NaN):e.isZero()?Z(i,n+4,r).times(.5):(i.precision=n+6,i.rounding=1,e=new i(1).minus(e).div(e.plus(1)).sqrt().atan(),i.precision=n,i.rounding=r,e.times(2))};f.inverseHyperbolicCosine=f.acosh=function(){var e,i,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(e=n.precision,i=n.rounding,n.precision=e+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,_=!1,t=t.times(t).minus(1).sqrt().plus(t),_=!0,n.precision=e,n.rounding=i,t.ln()):new n(t)};f.inverseHyperbolicSine=f.asinh=function(){var e,i,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(e=n.precision,i=n.rounding,n.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,_=!1,t=t.times(t).plus(1).sqrt().plus(t),_=!0,n.precision=e,n.rounding=i,t.ln())};f.inverseHyperbolicTangent=f.atanh=function(){var e,i,t,n,r=this,o=r.constructor;return r.isFinite()?r.e>=0?new o(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=o.precision,i=o.rounding,n=r.sd(),Math.max(n,e)<2*-r.e-1?h(new o(r),e,i,!0):(o.precision=t=n-r.e,r=C(r.plus(1),new o(1).minus(r),t+e,1),o.precision=e+4,o.rounding=1,r=r.ln(),o.precision=e,o.rounding=i,r.times(.5))):new o(NaN)};f.inverseSine=f.asin=function(){var e,i,t,n,r=this,o=r.constructor;return r.isZero()?new o(r):(i=r.abs().cmp(1),t=o.precision,n=o.rounding,i!==-1?i===0?(e=Z(o,t+4,n).times(.5),e.s=r.s,e):new o(NaN):(o.precision=t+6,o.rounding=1,r=r.div(new o(1).minus(r.times(r)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=n,r.times(2)))};f.inverseTangent=f.atan=function(){var e,i,t,n,r,o,a,s,d,l=this,c=l.constructor,p=c.precision,u=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&p+4<=ut)return a=Z(c,p+4,u).times(.25),a.s=l.s,a}else{if(!l.s)return new c(NaN);if(p+4<=ut)return a=Z(c,p+4,u).times(.5),a.s=l.s,a}for(c.precision=s=p+10,c.rounding=1,t=Math.min(28,s/g+2|0),e=t;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(_=!1,i=Math.ceil(s/g),n=1,d=l.times(l),a=new c(l),r=l;e!==-1;)if(r=r.times(d),o=a.minus(r.div(n+=2)),r=r.times(d),a=o.plus(r.div(n+=2)),a.d[i]!==void 0)for(e=i;a.d[e]===o.d[e]&&e--;);return t&&(a=a.times(2<<t-1)),_=!0,h(a,c.precision=p,c.rounding=u,!0)};f.isFinite=function(){return!!this.d};f.isInteger=f.isInt=function(){return!!this.d&&I(this.e/g)>this.d.length-2};f.isNaN=function(){return!this.s};f.isNegative=f.isNeg=function(){return this.s<0};f.isPositive=f.isPos=function(){return this.s>0};f.isZero=function(){return!!this.d&&this.d[0]===0};f.lessThan=f.lt=function(e){return this.cmp(e)<0};f.lessThanOrEqualTo=f.lte=function(e){return this.cmp(e)<1};f.logarithm=f.log=function(e){var i,t,n,r,o,a,s,d,l=this,c=l.constructor,p=c.precision,u=c.rounding,m=5;if(e==null)e=new c(10),i=!0;else{if(e=new c(e),t=e.d,e.s<0||!t||!t[0]||e.eq(1))return new c(NaN);i=e.eq(10)}if(t=l.d,l.s<0||!t||!t[0]||l.eq(1))return new c(t&&!t[0]?-1/0:l.s!=1?NaN:t?0:1/0);if(i)if(t.length>1)o=!0;else{for(r=t[0];r%10===0;)r/=10;o=r!==1}if(_=!1,s=p+m,a=X(l,s),n=i?qe(c,s+10):X(e,s),d=C(a,n,s,1),be(d.d,r=p,u))do if(s+=10,a=X(l,s),n=i?qe(c,s+10):X(e,s),d=C(a,n,s,1),!o){+A(d.d).slice(r+1,r+15)+1==1e14&&(d=h(d,p+1,0));break}while(be(d.d,r+=10,u));return _=!0,h(d,p,u)};f.minus=f.sub=function(e){var i,t,n,r,o,a,s,d,l,c,p,u,m=this,v=m.constructor;if(e=new v(e),!m.d||!e.d)return!m.s||!e.s?e=new v(NaN):m.d?e.s=-e.s:e=new v(e.d||m.s!==e.s?m:NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(l=m.d,u=e.d,s=v.precision,d=v.rounding,!l[0]||!u[0]){if(u[0])e.s=-e.s;else if(l[0])e=new v(m);else return new v(d===3?-0:0);return _?h(e,s,d):e}if(t=I(e.e/g),c=I(m.e/g),l=l.slice(),o=c-t,o){for(p=o<0,p?(i=l,o=-o,a=u.length):(i=u,t=c,a=l.length),n=Math.max(Math.ceil(s/g),a)+2,o>n&&(o=n,i.length=1),i.reverse(),n=o;n--;)i.push(0);i.reverse()}else{for(n=l.length,a=u.length,p=n<a,p&&(a=n),n=0;n<a;n++)if(l[n]!=u[n]){p=l[n]<u[n];break}o=0}for(p&&(i=l,l=u,u=i,e.s=-e.s),a=l.length,n=u.length-a;n>0;--n)l[a++]=0;for(n=u.length;n>o;){if(l[--n]<u[n]){for(r=n;r&&l[--r]===0;)l[r]=q-1;--l[r],l[n]+=q}l[n]-=u[n]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--t;return l[0]?(e.d=l,e.e=Ze(l,t),_?h(e,s,d):e):new v(d===3?-0:0)};f.modulo=f.mod=function(e){var i,t=this,n=t.constructor;return e=new n(e),!t.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||t.d&&!t.d[0]?h(new n(t),n.precision,n.rounding):(_=!1,n.modulo==9?(i=C(t,e.abs(),0,3,1),i.s*=e.s):i=C(t,e,0,n.modulo,1),i=i.times(e),_=!0,t.minus(i))};f.naturalExponential=f.exp=function(){return ft(this)};f.naturalLogarithm=f.ln=function(){return X(this)};f.negated=f.neg=function(){var e=new this.constructor(this);return e.s=-e.s,h(e)};f.plus=f.add=function(e){var i,t,n,r,o,a,s,d,l,c,p=this,u=p.constructor;if(e=new u(e),!p.d||!e.d)return!p.s||!e.s?e=new u(NaN):p.d||(e=new u(e.d||p.s===e.s?p:NaN)),e;if(p.s!=e.s)return e.s=-e.s,p.minus(e);if(l=p.d,c=e.d,s=u.precision,d=u.rounding,!l[0]||!c[0])return c[0]||(e=new u(p)),_?h(e,s,d):e;if(o=I(p.e/g),n=I(e.e/g),l=l.slice(),r=o-n,r){for(r<0?(t=l,r=-r,a=c.length):(t=c,n=o,a=l.length),o=Math.ceil(s/g),a=o>a?o+1:a+1,r>a&&(r=a,t.length=1),t.reverse();r--;)t.push(0);t.reverse()}for(a=l.length,r=c.length,a-r<0&&(r=a,t=c,c=l,l=t),i=0;r;)i=(l[--r]=l[r]+c[r]+i)/q|0,l[r]%=q;for(i&&(l.unshift(i),++n),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=Ze(l,n),_?h(e,s,d):e};f.precision=f.sd=function(e){var i,t=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(K+e);return t.d?(i=Ci(t.d),e&&t.e+1>i&&(i=t.e+1)):i=NaN,i};f.round=function(){var e=this,i=e.constructor;return h(new i(e),e.e+1,i.rounding)};f.sine=f.sin=function(){var e,i,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,i=n.rounding,n.precision=e+Math.max(t.e,t.sd())+g,n.rounding=1,t=Qi(n,Di(n,t)),n.precision=e,n.rounding=i,h(z>2?t.neg():t,e,i,!0)):new n(NaN)};f.squareRoot=f.sqrt=function(){var e,i,t,n,r,o,a=this,s=a.d,d=a.e,l=a.s,c=a.constructor;if(l!==1||!s||!s[0])return new c(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);for(_=!1,l=Math.sqrt(+a),l==0||l==1/0?(i=A(s),(i.length+d)%2==0&&(i+="0"),l=Math.sqrt(i),d=I((d+1)/2)-(d<0||d%2),l==1/0?i="5e"+d:(i=l.toExponential(),i=i.slice(0,i.indexOf("e")+1)+d),n=new c(i)):n=new c(l.toString()),t=(d=c.precision)+3;;)if(o=n,n=o.plus(C(a,o,t+2,1)).times(.5),A(o.d).slice(0,t)===(i=A(n.d)).slice(0,t))if(i=i.slice(t-3,t+1),i=="9999"||!r&&i=="4999"){if(!r&&(h(o,d+1,0),o.times(o).eq(a))){n=o;break}t+=4,r=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(h(n,d+1,1),e=!n.times(n).eq(a));break}return _=!0,h(n,d,c.rounding,e)};f.tangent=f.tan=function(){var e,i,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,i=n.rounding,n.precision=e+10,n.rounding=1,t=t.sin(),t.s=1,t=C(t,new n(1).minus(t.times(t)).sqrt(),e+10,0),n.precision=e,n.rounding=i,h(z==2||z==4?t.neg():t,e,i,!0)):new n(NaN)};f.times=f.mul=function(e){var i,t,n,r,o,a,s,d,l,c=this,p=c.constructor,u=c.d,m=(e=new p(e)).d;if(e.s*=c.s,!u||!u[0]||!m||!m[0])return new p(!e.s||u&&!u[0]&&!m||m&&!m[0]&&!u?NaN:!u||!m?e.s/0:e.s*0);for(t=I(c.e/g)+I(e.e/g),d=u.length,l=m.length,d<l&&(o=u,u=m,m=o,a=d,d=l,l=a),o=[],a=d+l,n=a;n--;)o.push(0);for(n=l;--n>=0;){for(i=0,r=d+n;r>n;)s=o[r]+m[n]*u[r-n-1]+i,o[r--]=s%q|0,i=s/q|0;o[r]=(o[r]+i)%q|0}for(;!o[--a];)o.pop();return i?++t:o.shift(),e.d=o,e.e=Ze(o,t),_?h(e,p.precision,p.rounding):e};f.toBinary=function(e,i){return mt(this,2,e,i)};f.toDecimalPlaces=f.toDP=function(e,i){var t=this,n=t.constructor;return t=new n(t),e===void 0?t:(F(e,0,Y),i===void 0?i=n.rounding:F(i,0,8),h(t,e+t.e+1,i))};f.toExponential=function(e,i){var t,n=this,r=n.constructor;return e===void 0?t=U(n,!0):(F(e,0,Y),i===void 0?i=r.rounding:F(i,0,8),n=h(new r(n),e+1,i),t=U(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};f.toFixed=function(e,i){var t,n,r=this,o=r.constructor;return e===void 0?t=U(r):(F(e,0,Y),i===void 0?i=o.rounding:F(i,0,8),n=h(new o(r),e+r.e+1,i),t=U(n,!1,e+n.e+1)),r.isNeg()&&!r.isZero()?"-"+t:t};f.toFraction=function(e){var i,t,n,r,o,a,s,d,l,c,p,u,m=this,v=m.d,x=m.constructor;if(!v)return new x(m);if(l=t=new x(1),n=d=new x(0),i=new x(n),o=i.e=Ci(v)-m.e-1,a=o%g,i.d[0]=D(10,a<0?g+a:a),e==null)e=o>0?i:l;else{if(s=new x(e),!s.isInt()||s.lt(l))throw Error(K+s);e=s.gt(i)?o>0?i:l:s}for(_=!1,s=new x(A(v)),c=x.precision,x.precision=o=v.length*g*2;p=C(s,i,0,1,1),r=t.plus(p.times(n)),r.cmp(e)!=1;)t=n,n=r,r=l,l=d.plus(p.times(r)),d=r,r=i,i=s.minus(p.times(r)),s=r;return r=C(e.minus(t),n,0,1,1),d=d.plus(r.times(l)),t=t.plus(r.times(n)),d.s=l.s=m.s,u=C(l,n,o,1).minus(m).abs().cmp(C(d,t,o,1).minus(m).abs())<1?[l,n]:[d,t],x.precision=c,_=!0,u};f.toHexadecimal=f.toHex=function(e,i){return mt(this,16,e,i)};f.toNearest=function(e,i){var t=this,n=t.constructor;if(t=new n(t),e==null){if(!t.d)return t;e=new n(1),i=n.rounding}else{if(e=new n(e),i===void 0?i=n.rounding:F(i,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(_=!1,t=C(t,e,0,i,1).times(e),_=!0,h(t)):(e.s=t.s,t=e),t};f.toNumber=function(){return+this};f.toOctal=function(e,i){return mt(this,8,e,i)};f.toPower=f.pow=function(e){var i,t,n,r,o,a,s=this,d=s.constructor,l=+(e=new d(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new d(D(+s,l));if(s=new d(s),s.eq(1))return s;if(n=d.precision,o=d.rounding,e.eq(1))return h(s,n,o);if(i=I(e.e/g),i>=e.d.length-1&&(t=l<0?-l:l)<=Ui)return r=Ni(d,s,t,n),e.s<0?new d(1).div(r):h(r,n,o);if(a=s.s,a<0){if(i<e.d.length-1)return new d(NaN);if((e.d[i]&1)==0&&(a=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=a,s}return t=D(+s,l),i=t==0||!isFinite(t)?I(l*(Math.log("0."+A(s.d))/Math.LN10+s.e+1)):new d(t+"").e,i>d.maxE+1||i<d.minE-1?new d(i>0?a/0:0):(_=!1,d.rounding=s.s=1,t=Math.min(12,(i+"").length),r=ft(e.times(X(s,n+t)),n),r.d&&(r=h(r,n+5,1),be(r.d,n,o)&&(i=n+10,r=h(ft(e.times(X(s,i+t)),i),i+5,1),+A(r.d).slice(n+1,n+15)+1==1e14&&(r=h(r,n+1,0)))),r.s=a,_=!0,d.rounding=o,h(r,n,o))};f.toPrecision=function(e,i){var t,n=this,r=n.constructor;return e===void 0?t=U(n,n.e<=r.toExpNeg||n.e>=r.toExpPos):(F(e,1,Y),i===void 0?i=r.rounding:F(i,0,8),n=h(new r(n),e,i),t=U(n,e<=n.e||n.e<=r.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+t:t};f.toSignificantDigits=f.toSD=function(e,i){var t=this,n=t.constructor;return e===void 0?(e=n.precision,i=n.rounding):(F(e,1,Y),i===void 0?i=n.rounding:F(i,0,8)),h(new n(t),e,i)};f.toString=function(){var e=this,i=e.constructor,t=U(e,e.e<=i.toExpNeg||e.e>=i.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t};f.truncated=f.trunc=function(){return h(new this.constructor(this),this.e+1,1)};f.valueOf=f.toJSON=function(){var e=this,i=e.constructor,t=U(e,e.e<=i.toExpNeg||e.e>=i.toExpPos);return e.isNeg()?"-"+t:t};function A(e){var i,t,n,r=e.length-1,o="",a=e[0];if(r>0){for(o+=a,i=1;i<r;i++)n=e[i]+"",t=g-n.length,t&&(o+=G(t)),o+=n;a=e[i],n=a+"",t=g-n.length,t&&(o+=G(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}function F(e,i,t){if(e!==~~e||e<i||e>t)throw Error(K+e)}function be(e,i,t,n){var r,o,a,s;for(o=e[0];o>=10;o/=10)--i;return--i<0?(i+=g,r=0):(r=Math.ceil((i+1)/g),i%=g),o=D(10,g-i),s=e[r]%o|0,n==null?i<3?(i==0?s=s/100|0:i==1&&(s=s/10|0),a=t<4&&s==99999||t>3&&s==49999||s==5e4||s==0):a=(t<4&&s+1==o||t>3&&s+1==o/2)&&(e[r+1]/o/100|0)==D(10,i-2)-1||(s==o/2||s==0)&&(e[r+1]/o/100|0)==0:i<4?(i==0?s=s/1e3|0:i==1?s=s/100|0:i==2&&(s=s/10|0),a=(n||t<4)&&s==9999||!n&&t>3&&s==4999):a=((n||t<4)&&s+1==o||!n&&t>3&&s+1==o/2)&&(e[r+1]/o/1e3|0)==D(10,i-3)-1,a}function Oe(e,i,t){for(var n,r=[0],o,a=0,s=e.length;a<s;){for(o=r.length;o--;)r[o]*=i;for(r[0]+=ct.indexOf(e.charAt(a++)),n=0;n<r.length;n++)r[n]>t-1&&(r[n+1]===void 0&&(r[n+1]=0),r[n+1]+=r[n]/t|0,r[n]%=t)}return r.reverse()}function zi(e,i){var t,n,r;if(i.isZero())return i;n=i.d.length,n<32?(t=Math.ceil(n/3),r=(1/Ue(4,t)).toString()):(t=16,r="2.3283064365386962890625e-10"),e.precision+=t,i=ue(e,1,i.times(r),new e(1));for(var o=t;o--;){var a=i.times(i);i=a.times(a).minus(a).times(8).plus(1)}return e.precision-=t,i}var C=function(){function e(n,r,o){var a,s=0,d=n.length;for(n=n.slice();d--;)a=n[d]*r+s,n[d]=a%o|0,s=a/o|0;return s&&n.unshift(s),n}function i(n,r,o,a){var s,d;if(o!=a)d=o>a?1:-1;else for(s=d=0;s<o;s++)if(n[s]!=r[s]){d=n[s]>r[s]?1:-1;break}return d}function t(n,r,o,a){for(var s=0;o--;)n[o]-=s,s=n[o]<r[o]?1:0,n[o]=s*a+n[o]-r[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,r,o,a,s,d){var l,c,p,u,m,v,x,R,P,O,E,k,ye,V,Ge,Me,fe,Xe,H,Ee,Ce=n.constructor,Ke=n.s==r.s?1:-1,S=n.d,N=r.d;if(!S||!S[0]||!N||!N[0])return new Ce(!n.s||!r.s||(S?N&&S[0]==N[0]:!N)?NaN:S&&S[0]==0||!N?Ke*0:Ke/0);for(d?(m=1,c=n.e-r.e):(d=q,m=g,c=I(n.e/m)-I(r.e/m)),H=N.length,fe=S.length,P=new Ce(Ke),O=P.d=[],p=0;N[p]==(S[p]||0);p++);if(N[p]>(S[p]||0)&&c--,o==null?(V=o=Ce.precision,a=Ce.rounding):s?V=o+(n.e-r.e)+1:V=o,V<0)O.push(1),v=!0;else{if(V=V/m+2|0,p=0,H==1){for(u=0,N=N[0],V++;(p<fe||u)&&V--;p++)Ge=u*d+(S[p]||0),O[p]=Ge/N|0,u=Ge%N|0;v=u||p<fe}else{for(u=d/(N[0]+1)|0,u>1&&(N=e(N,u,d),S=e(S,u,d),H=N.length,fe=S.length),Me=H,E=S.slice(0,H),k=E.length;k<H;)E[k++]=0;Ee=N.slice(),Ee.unshift(0),Xe=N[0],N[1]>=d/2&&++Xe;do u=0,l=i(N,E,H,k),l<0?(ye=E[0],H!=k&&(ye=ye*d+(E[1]||0)),u=ye/Xe|0,u>1?(u>=d&&(u=d-1),x=e(N,u,d),R=x.length,k=E.length,l=i(x,E,R,k),l==1&&(u--,t(x,H<R?Ee:N,R,d))):(u==0&&(l=u=1),x=N.slice()),R=x.length,R<k&&x.unshift(0),t(E,x,k,d),l==-1&&(k=E.length,l=i(N,E,H,k),l<1&&(u++,t(E,H<k?Ee:N,k,d))),k=E.length):l===0&&(u++,E=[0]),O[p++]=u,l&&E[0]?E[k++]=S[Me]||0:(E=[S[Me]],k=1);while((Me++<fe||E[0]!==void 0)&&V--);v=E[0]!==void 0}O[0]||O.shift()}if(m==1)P.e=c,wi=v;else{for(p=1,u=O[0];u>=10;u/=10)p++;P.e=p+c*m-1,h(P,s?o+P.e+1:o,a,v)}return P}}();function h(e,i,t,n){var r,o,a,s,d,l,c,p,u,m=e.constructor;e:if(i!=null){if(p=e.d,!p)return e;for(r=1,s=p[0];s>=10;s/=10)r++;if(o=i-r,o<0)o+=g,a=i,c=p[u=0],d=c/D(10,r-a-1)%10|0;else if(u=Math.ceil((o+1)/g),s=p.length,u>=s)if(n){for(;s++<=u;)p.push(0);c=d=0,r=1,o%=g,a=o-g+1}else break e;else{for(c=s=p[u],r=1;s>=10;s/=10)r++;o%=g,a=o-g+r,d=a<0?0:c/D(10,r-a-1)%10|0}if(n=n||i<0||p[u+1]!==void 0||(a<0?c:c%D(10,r-a-1)),l=t<4?(d||n)&&(t==0||t==(e.s<0?3:2)):d>5||d==5&&(t==4||n||t==6&&(o>0?a>0?c/D(10,r-a):0:p[u-1])%10&1||t==(e.s<0?8:7)),i<1||!p[0])return p.length=0,l?(i-=e.e+1,p[0]=D(10,(g-i%g)%g),e.e=-i||0):p[0]=e.e=0,e;if(o==0?(p.length=u,s=1,u--):(p.length=u+1,s=D(10,g-o),p[u]=a>0?(c/D(10,r-a)%D(10,a)|0)*s:0),l)for(;;)if(u==0){for(o=1,a=p[0];a>=10;a/=10)o++;for(a=p[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(e.e++,p[0]==q&&(p[0]=1));break}else{if(p[u]+=s,p[u]!=q)break;p[u--]=0,s=1}for(o=p.length;p[--o]===0;)p.pop()}return _&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function U(e,i,t){if(!e.isFinite())return Ti(e);var n,r=e.e,o=A(e.d),a=o.length;return i?(t&&(n=t-a)>0?o=o.charAt(0)+"."+o.slice(1)+G(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):r<0?(o="0."+G(-r-1)+o,t&&(n=t-a)>0&&(o+=G(n))):r>=a?(o+=G(r+1-a),t&&(n=t-r-1)>0&&(o=o+"."+G(n))):((n=r+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),t&&(n=t-a)>0&&(r+1===a&&(o+="."),o+=G(n))),o}function Ze(e,i){var t=e[0];for(i*=g;t>=10;t/=10)i++;return i}function qe(e,i,t){if(i>Vi)throw _=!0,t&&(e.precision=t),Error(bi);return h(new e(Be),i,1,!0)}function Z(e,i,t){if(i>ut)throw Error(bi);return h(new e(Le),i,t,!0)}function Ci(e){var i=e.length-1,t=i*g+1;if(i=e[i],i){for(;i%10==0;i/=10)t--;for(i=e[0];i>=10;i/=10)t++}return t}function G(e){for(var i="";e--;)i+="0";return i}function Ni(e,i,t,n){var r,o=new e(1),a=Math.ceil(n/g+4);for(_=!1;;){if(t%2&&(o=o.times(i),_i(o.d,a)&&(r=!0)),t=I(t/2),t===0){t=o.d.length-1,r&&o.d[t]===0&&++o.d[t];break}i=i.times(i),_i(i.d,a)}return _=!0,o}function xi(e){return e.d[e.d.length-1]&1}function Pi(e,i,t){for(var n,r,o=new e(i[0]),a=0;++a<i.length;){if(r=new e(i[a]),!r.s){o=r;break}n=o.cmp(r),(n===t||n===0&&o.s===t)&&(o=r)}return o}function ft(e,i){var t,n,r,o,a,s,d,l=0,c=0,p=0,u=e.constructor,m=u.rounding,v=u.precision;if(!e.d||!e.d[0]||e.e>17)return new u(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(i==null?(_=!1,d=v):d=i,s=new u(.03125);e.e>-2;)e=e.times(s),p+=5;for(n=Math.log(D(2,p))/Math.LN10*2+5|0,d+=n,t=o=a=new u(1),u.precision=d;;){if(o=h(o.times(e),d,1),t=t.times(++c),s=a.plus(C(o,t,d,1)),A(s.d).slice(0,d)===A(a.d).slice(0,d)){for(r=p;r--;)a=h(a.times(a),d,1);if(i==null)if(l<3&&be(a.d,d-n,m,l))u.precision=d+=10,t=o=s=new u(1),c=0,l++;else return h(a,u.precision=v,m,_=!0);else return u.precision=v,a}a=s}}function X(e,i){var t,n,r,o,a,s,d,l,c,p,u,m=1,v=10,x=e,R=x.d,P=x.constructor,O=P.rounding,E=P.precision;if(x.s<0||!R||!R[0]||!x.e&&R[0]==1&&R.length==1)return new P(R&&!R[0]?-1/0:x.s!=1?NaN:R?0:x);if(i==null?(_=!1,c=E):c=i,P.precision=c+=v,t=A(R),n=t.charAt(0),Math.abs(o=x.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)x=x.times(e),t=A(x.d),n=t.charAt(0),m++;o=x.e,n>1?(x=new P("0."+t),o++):x=new P(n+"."+t.slice(1))}else return l=qe(P,c+2,E).times(o+""),x=X(new P(n+"."+t.slice(1)),c-v).plus(l),P.precision=E,i==null?h(x,E,O,_=!0):x;for(p=x,d=a=x=C(x.minus(1),x.plus(1),c,1),u=h(x.times(x),c,1),r=3;;){if(a=h(a.times(u),c,1),l=d.plus(C(a,new P(r),c,1)),A(l.d).slice(0,c)===A(d.d).slice(0,c))if(d=d.times(2),o!==0&&(d=d.plus(qe(P,c+2,E).times(o+""))),d=C(d,new P(m),c,1),i==null)if(be(d.d,c-v,O,s))P.precision=c+=v,l=a=x=C(p.minus(1),p.plus(1),c,1),u=h(x.times(x),c,1),r=s=1;else return h(d,P.precision=E,O,_=!0);else return P.precision=E,d;d=l,r+=2}}function Ti(e){return String(e.s*e.s/0)}function He(e,i){var t,n,r;for((t=i.indexOf("."))>-1&&(i=i.replace(".","")),(n=i.search(/e/i))>0?(t<0&&(t=n),t+=+i.slice(n+1),i=i.substring(0,n)):t<0&&(t=i.length),n=0;i.charCodeAt(n)===48;n++);for(r=i.length;i.charCodeAt(r-1)===48;--r);if(i=i.slice(n,r),i){if(r-=n,e.e=t=t-n-1,e.d=[],n=(t+1)%g,t<0&&(n+=g),n<r){for(n&&e.d.push(+i.slice(0,n)),r-=g;n<r;)e.d.push(+i.slice(n,n+=g));i=i.slice(n),n=g-i.length}else n-=r;for(;n--;)i+="0";e.d.push(+i),_&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function $i(e,i){var t,n,r,o,a,s,d,l,c;if(i.indexOf("_")>-1){if(i=i.replace(/(\d)_(?=\d)/g,"$1"),Ei.test(i))return He(e,i)}else if(i==="Infinity"||i==="NaN")return+i||(e.s=NaN),e.e=NaN,e.d=null,e;if(ji.test(i))t=16,i=i.toLowerCase();else if(qi.test(i))t=2;else if(Zi.test(i))t=8;else throw Error(K+i);for(o=i.search(/p/i),o>0?(d=+i.slice(o+1),i=i.substring(2,o)):i=i.slice(2),o=i.indexOf("."),a=o>=0,n=e.constructor,a&&(i=i.replace(".",""),s=i.length,o=s-o,r=Ni(n,new n(t),o,o*2)),l=Oe(i,t,q),c=l.length-1,o=c;l[o]===0;--o)l.pop();return o<0?new n(e.s*0):(e.e=Ze(l,c),e.d=l,_=!1,a&&(e=C(e,r,s*4)),d&&(e=e.times(Math.abs(d)<54?D(2,d):J.pow(2,d))),_=!0,e)}function Qi(e,i){var t,n=i.d.length;if(n<3)return i.isZero()?i:ue(e,2,i,i);t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/Ue(5,t)),i=ue(e,2,i,i);for(var r,o=new e(5),a=new e(16),s=new e(20);t--;)r=i.times(i),i=i.times(o.plus(r.times(a.times(r).minus(s))));return i}function ue(e,i,t,n,r){var o,a,s,d,l=1,c=e.precision,p=Math.ceil(c/g);for(_=!1,d=t.times(t),s=new e(n);;){if(a=C(s.times(d),new e(i++*i++),c,1),s=r?n.plus(a):n.minus(a),n=C(a.times(d),new e(i++*i++),c,1),a=s.plus(n),a.d[p]!==void 0){for(o=p;a.d[o]===s.d[o]&&o--;);if(o==-1)break}o=s,s=n,n=a,a=o,l++}return _=!0,a.d.length=p+1,a}function Ue(e,i){for(var t=e;--i;)t*=e;return t}function Di(e,i){var t,n=i.s<0,r=Z(e,e.precision,1),o=r.times(.5);if(i=i.abs(),i.lte(o))return z=n?4:1,i;if(t=i.divToInt(r),t.isZero())z=n?3:2;else{if(i=i.minus(t.times(r)),i.lte(o))return z=xi(t)?n?2:3:n?4:1,i;z=xi(t)?n?1:4:n?3:2}return i.minus(r).abs()}function mt(e,i,t,n){var r,o,a,s,d,l,c,p,u,m=e.constructor,v=t!==void 0;if(v?(F(t,1,Y),n===void 0?n=m.rounding:F(n,0,8)):(t=m.precision,n=m.rounding),!e.isFinite())c=Ti(e);else{for(c=U(e),a=c.indexOf("."),v?(r=2,i==16?t=t*4-3:i==8&&(t=t*3-2)):r=i,a>=0&&(c=c.replace(".",""),u=new m(1),u.e=c.length-a,u.d=Oe(U(u),10,r),u.e=u.d.length),p=Oe(c,10,r),o=d=p.length;p[--d]==0;)p.pop();if(!p[0])c=v?"0p+0":"0";else{if(a<0?o--:(e=new m(e),e.d=p,e.e=o,e=C(e,u,t,n,0,r),p=e.d,o=e.e,l=wi),a=p[t],s=r/2,l=l||p[t+1]!==void 0,l=n<4?(a!==void 0||l)&&(n===0||n===(e.s<0?3:2)):a>s||a===s&&(n===4||l||n===6&&p[t-1]&1||n===(e.s<0?8:7)),p.length=t,l)for(;++p[--t]>r-1;)p[t]=0,t||(++o,p.unshift(1));for(d=p.length;!p[d-1];--d);for(a=0,c="";a<d;a++)c+=ct.charAt(p[a]);if(v){if(d>1)if(i==16||i==8){for(a=i==16?4:3,--d;d%a;d++)c+="0";for(p=Oe(c,r,i),d=p.length;!p[d-1];--d);for(a=1,c="1.";a<d;a++)c+=ct.charAt(p[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>d)for(o-=d;o--;)c+="0";else o<d&&(c=c.slice(0,o)+"."+c.slice(o))}c=(i==16?"0x":i==2?"0b":i==8?"0o":"")+c}return e.s<0?"-"+c:c}function _i(e,i){if(e.length>i)return e.length=i,!0}function Wi(e){return new this(e).abs()}function Gi(e){return new this(e).acos()}function Xi(e){return new this(e).acosh()}function Ki(e,i){return new this(e).plus(i)}function Yi(e){return new this(e).asin()}function Ji(e){return new this(e).asinh()}function en(e){return new this(e).atan()}function tn(e){return new this(e).atanh()}function nn(e,i){e=new this(e),i=new this(i);var t,n=this.precision,r=this.rounding,o=n+4;return!e.s||!i.s?t=new this(NaN):!e.d&&!i.d?(t=Z(this,o,1).times(i.s>0?.25:.75),t.s=e.s):!i.d||e.isZero()?(t=i.s<0?Z(this,n,r):new this(0),t.s=e.s):!e.d||i.isZero()?(t=Z(this,o,1).times(.5),t.s=e.s):i.s<0?(this.precision=o,this.rounding=1,t=this.atan(C(e,i,o,1)),i=Z(this,o,1),this.precision=n,this.rounding=r,t=e.s<0?t.minus(i):t.plus(i)):t=this.atan(C(e,i,o,1)),t}function rn(e){return new this(e).cbrt()}function on(e){return h(e=new this(e),e.e+1,2)}function an(e,i,t){return new this(e).clamp(i,t)}function sn(e){if(!e||typeof e!="object")throw Error(je+"Object expected");var i,t,n,r=e.defaults===!0,o=["precision",1,Y,"rounding",0,8,"toExpNeg",-pe,0,"toExpPos",0,pe,"maxE",0,pe,"minE",-pe,0,"modulo",0,9];for(i=0;i<o.length;i+=3)if(t=o[i],r&&(this[t]=pt[t]),(n=e[t])!==void 0)if(I(n)===n&&n>=o[i+1]&&n<=o[i+2])this[t]=n;else throw Error(K+t+": "+n);if(t="crypto",r&&(this[t]=pt[t]),(n=e[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(yi);else this[t]=!1;else throw Error(K+t+": "+n);return this}function ln(e){return new this(e).cos()}function dn(e){return new this(e).cosh()}function Ai(e){var i,t,n;function r(o){var a,s,d,l=this;if(!(l instanceof r))return new r(o);if(l.constructor=r,vi(o)){l.s=o.s,_?!o.d||o.e>r.maxE?(l.e=NaN,l.d=null):o.e<r.minE?(l.e=0,l.d=[0]):(l.e=o.e,l.d=o.d.slice()):(l.e=o.e,l.d=o.d?o.d.slice():o.d);return}if(d=typeof o,d==="number"){if(o===0){l.s=1/o<0?-1:1,l.e=0,l.d=[0];return}if(o<0?(o=-o,l.s=-1):l.s=1,o===~~o&&o<1e7){for(a=0,s=o;s>=10;s/=10)a++;_?a>r.maxE?(l.e=NaN,l.d=null):a<r.minE?(l.e=0,l.d=[0]):(l.e=a,l.d=[o]):(l.e=a,l.d=[o]);return}if(o*0!==0){o||(l.s=NaN),l.e=NaN,l.d=null;return}return He(l,o.toString())}if(d==="string")return(s=o.charCodeAt(0))===45?(o=o.slice(1),l.s=-1):(s===43&&(o=o.slice(1)),l.s=1),Ei.test(o)?He(l,o):$i(l,o);if(d==="bigint")return o<0?(o=-o,l.s=-1):l.s=1,He(l,o.toString());throw Error(K+o)}if(r.prototype=f,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=sn,r.clone=Ai,r.isDecimal=vi,r.abs=Wi,r.acos=Gi,r.acosh=Xi,r.add=Ki,r.asin=Yi,r.asinh=Ji,r.atan=en,r.atanh=tn,r.atan2=nn,r.cbrt=rn,r.ceil=on,r.clamp=an,r.cos=ln,r.cosh=dn,r.div=cn,r.exp=pn,r.floor=un,r.hypot=fn,r.ln=mn,r.log=hn,r.log10=xn,r.log2=gn,r.max=_n,r.min=vn,r.mod=wn,r.mul=bn,r.pow=yn,r.random=Mn,r.round=En,r.sign=Cn,r.sin=Nn,r.sinh=Pn,r.sqrt=Tn,r.sub=Dn,r.sum=An,r.tan=kn,r.tanh=Sn,r.trunc=In,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<n.length;)e.hasOwnProperty(t=n[i++])||(e[t]=this[t]);return r.config(e),r}function cn(e,i){return new this(e).div(i)}function pn(e){return new this(e).exp()}function un(e){return h(e=new this(e),e.e+1,3)}function fn(){var e,i,t=new this(0);for(_=!1,e=0;e<arguments.length;)if(i=new this(arguments[e++]),i.d)t.d&&(t=t.plus(i.times(i)));else{if(i.s)return _=!0,new this(1/0);t=i}return _=!0,t.sqrt()}function vi(e){return e instanceof J||e&&e.toStringTag===Mi||!1}function mn(e){return new this(e).ln()}function hn(e,i){return new this(e).log(i)}function gn(e){return new this(e).log(2)}function xn(e){return new this(e).log(10)}function _n(){return Pi(this,arguments,-1)}function vn(){return Pi(this,arguments,1)}function wn(e,i){return new this(e).mod(i)}function bn(e,i){return new this(e).mul(i)}function yn(e,i){return new this(e).pow(i)}function Mn(e){var i,t,n,r,o=0,a=new this(1),s=[];if(e===void 0?e=this.precision:F(e,1,Y),n=Math.ceil(e/g),this.crypto)if(crypto.getRandomValues)for(i=crypto.getRandomValues(new Uint32Array(n));o<n;)r=i[o],r>=429e7?i[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=r%1e7;else if(crypto.randomBytes){for(i=crypto.randomBytes(n*=4);o<n;)r=i[o]+(i[o+1]<<8)+(i[o+2]<<16)+((i[o+3]&127)<<24),r>=214e7?crypto.randomBytes(4).copy(i,o):(s.push(r%1e7),o+=4);o=n/4}else throw Error(yi);else for(;o<n;)s[o++]=Math.random()*1e7|0;for(n=s[--o],e%=g,n&&e&&(r=D(10,g-e),s[o]=(n/r|0)*r);s[o]===0;o--)s.pop();if(o<0)t=0,s=[0];else{for(t=-1;s[0]===0;t-=g)s.shift();for(n=1,r=s[0];r>=10;r/=10)n++;n<g&&(t-=g-n)}return a.e=t,a.d=s,a}function En(e){return h(e=new this(e),e.e+1,this.rounding)}function Cn(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Nn(e){return new this(e).sin()}function Pn(e){return new this(e).sinh()}function Tn(e){return new this(e).sqrt()}function Dn(e,i){return new this(e).sub(i)}function An(){var e=0,i=arguments,t=new this(i[e]);for(_=!1;t.s&&++e<i.length;)t=t.plus(i[e]);return _=!0,h(t,this.precision,this.rounding)}function kn(e){return new this(e).tan()}function Sn(e){return new this(e).tanh()}function In(e){return h(e=new this(e),e.e+1,1)}f[Symbol.for("nodejs.util.inspect.custom")]=f.toString;f[Symbol.toStringTag]="Decimal";var J=f.constructor=Ai(pt);Be=new J(Be);Le=new J(Le);var Ve=class e{id;description;value;participantIds;constructor(i,t,n,r){this.id=i,this.description=t,this.value=n,this.participantIds=r}static fromRepositoryModel(i){return new e(i.id,i.description,new J(i.value),new Set(i.participantIds))}calculateParticipantAmount(){return this.participantIds.size===0?new J(0):this.value.div(this.participantIds.size)}},se=class{billId;billDescription;billValue;billPayerId;billPayerName;toPay;toReceive;amount;constructor(i,t,n,r){this.billId=i.id,this.billDescription=i.description,this.billValue=i.value.toNumber(),this.billPayerId=t.id,this.billPayerName=t.name,this.toPay=t,this.toReceive=n,this.amount=r}static sum(i){let t=new J(0);for(let n of i)t=t.add(n.amount);return t}};var ze=class e{id;name;bills;constructor(i,t,n){this.id=i,this.name=t,this.bills=n}static fromPersonRepositoryModel(i){return new e(i.id,i.name,[])}addBill(i){this.bills.push(i)}calculateRestitutionFor(i){return this.bills.values().filter(t=>t.participantIds.has(i.id)).map(t=>{let n=t.calculateParticipantAmount();return new se(t,this,i,n.toNumber())}).filter(t=>t.amount!==0).toArray()}};function ki(e,i){let t=e.map(ze.fromPersonRepositoryModel),n=Object.fromEntries(t.map(o=>[o.id,o]));for(let o of i)if(o.payerId in n){let a=Ve.fromRepositoryModel(o);n[o.payerId].addBill(a)}let r={};for(let o of t){let a={};for(let s of t.filter(d=>d.id!==o.id)){let d=o.calculateRestitutionFor(s),l=se.sum(d),c=s.calculateRestitutionFor(o),p=se.sum(c),u=d.concat(c).sort((v,x)=>v.toReceive.id===s.id&&x.toReceive.id!==s.id?-1:x.toReceive.id===s.id?1:x.amount-v.amount),m=l.minus(p);a[s.id]={restitutions:u,amountToReceive:l.toNumber(),amountToPay:p.toNumber(),amount:m.toNumber()}}r[o.id]=a}return r}var ht=new le("CdkAccordion"),Si=(()=>{class e{_stateChanges=new me;_openCloseAllActions=new me;id=y(we).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=$({type:e,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",ae]},exportAs:["cdkAccordion"],features:[ce([{provide:ht,useExisting:e}]),Pe]})}return e})(),Ii=(()=>{class e{accordion=y(ht,{optional:!0,skipSelf:!0});_changeDetectorRef=y(ke);_expansionDispatcher=y(Fe);_openCloseAllSubscription=Ne.EMPTY;closed=new Q;opened=new Q;destroyed=new Q;expandedChange=new Q;id=y(we).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;get disabled(){return this._disabled()}set disabled(t){this._disabled.set(t)}_disabled=ge(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((t,n)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===n&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static \u0275fac=function(n){return new(n||e)};static \u0275dir=$({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",ae],disabled:[2,"disabled","disabled",ae]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[ce([{provide:ht,useValue:void 0}])]})}return e})();var Bn=["body"],Ln=["bodyWrapper"],qn=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],jn=["mat-expansion-panel-header","*","mat-action-row"];function Zn(e,i){}var Un=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Vn=["mat-panel-title","mat-panel-description","*"];function zn(e,i){e&1&&(b(0,"span",1),yt(),b(1,"svg",2),B(2,"path",3),w()())}var gt=new le("MAT_ACCORDION"),Ri=new le("MAT_EXPANSION_PANEL"),$n=(()=>{class e{_template=y(Nt);_expansionPanel=y(Ri,{optional:!0});constructor(){}static \u0275fac=function(n){return new(n||e)};static \u0275dir=$({type:e,selectors:[["ng-template","matExpansionPanelContent",""]]})}return e})(),Fi=new le("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),xt=(()=>{class e extends Ii{_viewContainerRef=y(Tt);_animationsDisabled=Wt();_document=y(Mt);_ngZone=y(kt);_elementRef=y(tt);_renderer=y(Pt);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_togglePosition;afterExpand=new Q;afterCollapse=new Q;_inputChanges=new me;accordion=y(gt,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=y(we).getId("mat-expansion-panel-header-");constructor(){super();let t=y(Fi,{optional:!0});this._expansionDispatcher=y(Fe),t&&(this.hideToggle=t.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ye(null),he(()=>this.expanded&&!this._portal),bt(1)).subscribe(()=>{this._portal=new Yt(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,n=this._body.nativeElement;return t===n||n.contains(t)}return!1}_transitionEndListener=({target:t,propertyName:n})=>{t===this._bodyWrapper?.nativeElement&&n==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let t=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this._transitionEndListener),t.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ee({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,o){if(n&1&&ot(o,$n,5),n&2){let a;_e(a=ve())&&(r._lazyContent=a.first)}},viewQuery:function(n,r){if(n&1&&(at(Bn,5),at(Ln,5)),n&2){let o;_e(o=ve())&&(r._body=o.first),_e(o=ve())&&(r._bodyWrapper=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(n,r){n&2&&W("mat-expanded",r.expanded)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",ae],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[ce([{provide:gt,useValue:void 0},{provide:Ri,useExisting:e}]),it,Pe],ngContentSelectors:jn,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){n&1&&(rt(qn),oe(0),b(1,"div",2,0)(3,"div",3,1)(5,"div",4),oe(6,1),At(7,Zn,0,0,"ng-template",5),w(),oe(8,2),w()()),n&2&&(M(),Te("inert",r.expanded?null:""),M(2),j("id",r.id),Te("aria-labelledby",r._headerId),M(4),j("cdkPortalOutlet",r._portal))},dependencies:[Jt],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return e})();var _t=(()=>{class e{panel=y(xt,{host:!0});_element=y(tt);_focusMonitor=y(Vt);_changeDetectorRef=y(ke);_parentChangeSubscription=Ne.EMPTY;constructor(){y(zt).load(Gt);let t=this.panel,n=y(Fi,{optional:!0}),r=y(new jt("tabindex"),{optional:!0}),o=t.accordion?t.accordion._stateChanges.pipe(he(a=>!!(a.hideToggle||a.togglePosition))):vt;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=wt(t.opened,t.closed,o,t._inputChanges.pipe(he(a=>!!(a.hideToggle||a.disabled||a.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(he(()=>t._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),n&&(this.expandedHeight=n.expandedHeight,this.collapsedHeight=n.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:$t(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,n){t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ee({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(n,r){n&1&&xe("click",function(){return r._toggle()})("keydown",function(a){return r._keydown(a)}),n&2&&(Te("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),It("height",r._getHeaderHeight()),W("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Zt(t)]},ngContentSelectors:Vn,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,r){n&1&&(rt(Un),b(0,"span",0),oe(1),oe(2,1),oe(3,2),w(),te(4,zn,3,0,"span",1)),n&2&&(W("mat-content-hide-toggle",!r._showToggle()),M(4),ie(r._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return e})(),Oi=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=$({type:e,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return e})(),Hi=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=$({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return e})(),Bi=(()=>{class e extends Si{_keyManager;_ownHeaders=new Ct;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(Ye(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Qt(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Et(e)))(r||e)}})();static \u0275dir=$({type:e,selectors:[["mat-accordion"]],contentQueries:function(n,r,o){if(n&1&&ot(o,_t,5),n&2){let a;_e(a=ve())&&(r._headers=a)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(n,r){n&2&&W("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",ae],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[ce([{provide:gt,useExisting:e}]),it]})}return e})();var Qe=class e{transform(i){return Math.abs(i)}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=Dt({name:"appAbsoluteNumber",type:e,pure:!0})};var Wn=(e,i)=>i.id;function Gn(e,i){if(e&1&&(b(0,"mat-checkbox",8),T(1),w()),e&2){let t=i.$implicit;M(),L(" ",t.name," ")}}var We=class e{data=y(ei);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ee({type:e,selectors:[["app-trip-show-bill-dialog"]],decls:28,vars:3,consts:[["matDialogTitle",""],[2,"display","grid","grid-template-columns","1fr auto 1fr","gap","24px","flex-direction","column","margin-top","24px"],[2,"display","flex","flex-direction","column","gap","12px"],[2,"margin-top","0"],["appearance","outline"],["matInput","","readonly","",3,"value"],["vertical",""],[2,"overflow-y","auto","display","flex","flex-direction","column"],["checked",""],["type","button","matButton","text","matDialogClose",""]],template:function(t,n){t&1&&(b(0,"h2",0),T(1,"Visualizar Conta"),w(),b(2,"mat-dialog-content",1)(3,"div",2)(4,"h3",3),T(5,"Conta"),w(),b(6,"mat-form-field",4)(7,"mat-label"),T(8,"Descri\xE7\xE3o"),w(),B(9,"input",5),w(),b(10,"mat-form-field",4)(11,"mat-label"),T(12,"Valor"),w(),B(13,"input",5),w(),b(14,"mat-form-field",4)(15,"mat-label"),T(16,"Pagador"),w(),B(17,"input",5),w()(),B(18,"mat-divider",6),b(19,"div",7)(20,"h3",3),T(21,"Participantes"),w(),b(22,"div"),ne(23,Gn,2,1,"mat-checkbox",8,Wn),w()()(),b(25,"mat-dialog-actions")(26,"button",9),T(27,"Cancelar"),w()()),t&2&&(M(9),j("value",n.data.initial.description),M(4),j("value",n.data.initial.value),M(4),j("value",n.data.initial.payer.name),M(6),re(n.data.initial.participants))},dependencies:[ii,ni,ri,Xt,oi,di,ci,li,Re,Se,Ie],encapsulation:2})};var Xn=()=>({standalone:!0}),Kn=(e,i)=>i.id,Yn=(e,i)=>i.person==null?null:i.person.id,Jn=(e,i)=>i.other==null?null:i.other.id;function er(e,i){if(e&1){let t=nt();b(0,"mat-checkbox",5),Ot("ngModelChange",function(r){let o=Je(t).$implicit,a=de();return Ft(a.peopleFilter()[o.id],r)||(a.peopleFilter()[o.id]=r),et(r)}),T(1),w()}if(e&2){let t=i.$implicit,n=de();Rt("ngModel",n.peopleFilter()[t.id]),j("name","check"+t.id)("ngModelOptions",Bt(4,Xn)),M(),L(" ",t.name," ")}}function tr(e,i){e&1&&(b(0,"small"),T(1,"Nada a restituir"),w())}function ir(e,i){if(e&1&&(b(0,"p",14),T(1),De(2,"appAbsoluteNumber"),De(3,"currency"),b(4,"small"),T(5),w()()),e&2){de();let t=lt(1);W("_text-positive",t.amount>=0)("_text-negative",t.amount<0),M(),L(" ",dt(3,8,Lt(2,6,t.amount),"BRL")," "),M(4),L(" (",t.amount>0?"Receber":"Pagar",") ")}}function nr(e,i){e&1&&B(0,"mat-divider",17)}function rr(e,i){if(e&1){let t=nt();b(0,"div",15)(1,"div")(2,"div")(3,"a",16),xe("click",function(){let r=Je(t).$implicit,o=de(4);return et(o.openShowBillDialog(r.billId))}),T(4),w()()(),b(5,"p",14),T(6),De(7,"currency"),b(8,"small"),T(9),w()()(),te(10,nr,1,0,"mat-divider",17)}if(e&2){let t=i.$implicit,n=i.$index,r=i.$count;de();let o=lt(0),a=t.toPay.id===o.id;W("_text-positive",!a)("_text-negative",a),M(4),L(" ",t.billDescription," "),M(2),L(" ",dt(7,8,t.amount,"BRL")," "),M(3),L("(",a?"Pagar":"Receber",")"),M(),ie(n!==r-1?10:-1)}}function or(e,i){e&1&&(b(0,"div",13)(1,"mat-icon"),T(2,"tab_search"),w(),b(3,"p"),T(4,"N\xE3o h\xE1 nada registrado aqui"),w()())}function ar(e,i){if(e&1&&(Ht(0)(1),b(2,"mat-expansion-panel",7)(3,"mat-expansion-panel-header")(4,"mat-panel-title",9),T(5),w(),b(6,"mat-panel-description",10),te(7,tr,2,0,"small")(8,ir,6,11,"p",11),w()(),B(9,"div",12),ne(10,rr,11,11,null,null,St,!1,or,5,0,"div",13),w()),e&2){let t=i.$implicit,n=st(t.other);M();let r=st(t.restitution);M(4),L(" ",n.name," "),M(2),ie(t.restitution.amount==0?7:8),M(3),re(r.restitutions)}}function sr(e,i){e&1&&B(0,"mat-divider",8)}function lr(e,i){if(e&1&&(b(0,"section")(1,"h4",6),T(2),w(),b(3,"mat-accordion"),ne(4,ar,13,5,"mat-expansion-panel",7,Jn),w()(),te(6,sr,1,0,"mat-divider",8)),e&2){let t=i.$implicit,n=i.$index,r=i.$count;M(2),L(" ",t.person==null?null:t.person.name," "),M(2),re(t.restitutions),M(2),ie(n!==r-1?6:-1)}}function dr(e,i){e&1&&ne(0,lr,7,2,null,null,Yn),e&2&&re(i)}var Li=class e{#e=y(ti);personRepo=y(pi);billRepo=y(gi);peopleFilter=qt(()=>Object.fromEntries(this.personRepo.data().map(i=>[i.id,ge(!0)])));peopleFilterHasSome=Ae(()=>Object.values(this.peopleFilter()).some(i=>i()));peopleFilterHasAll=Ae(()=>Object.values(this.peopleFilter()).every(i=>i()));update(i){let t=this.personRepo.data().map(n=>[n.id,ge(i)]);this.peopleFilter.set(Object.fromEntries(t))}data=Ae(()=>{let i=ki(this.personRepo.data(),this.billRepo.data());if(i===null)return[];let t=new Set(Object.entries(this.peopleFilter()).filter(r=>r[1]()).map(r=>r[0]));return console.log(t),Object.entries(i).values().filter(([r])=>t.has(r)).map(([r,o])=>{let a=this.personRepo.getPerson(r),s=Object.entries(o).map(([d,l])=>({other:this.personRepo.getPerson(d),restitution:l}));return{person:a,restitutions:s}}).toArray()});openShowBillDialog(i){let t=this.billRepo.getById(i);if(!t)return;let n=Object.fromEntries(this.personRepo.data().map(r=>[r.id,r]));this.billRepo,this.#e.open(We,{data:{initial:{id:t.id,value:t.value,participants:t.participantIds.map(r=>n[r]),description:t.description,payer:n[t.payerId]}}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=ee({type:e,selectors:[["app-trip-home"]],decls:13,vars:3,consts:[["appearance","outlined"],[2,"display","flex","flex-direction","column","margin-top","16px"],["value","all",3,"change","checked","indeterminate"],[3,"ngModel","name","ngModelOptions"],[2,"display","flex","flex-direction","column","gap","24px"],[3,"ngModelChange","ngModel","name","ngModelOptions"],[1,"person-payer"],["hideToggle",""],[2,"border-top-color","var(--mat-sys-surface-container-high)"],[2,"margin","0","flex-grow","1","font-size","16px"],[2,"margin","0","flex","none"],[1,"restitution-amount",3,"_text-positive","_text-negative"],[2,"margin-top","4px"],[1,"restitution-empty"],[1,"restitution-amount"],[1,"person-participant"],[2,"margin","0","font-size","14px","font-weight","500","cursor","pointer","text-decoration","underline",3,"click"],[2,"border-top-color","var(--mat-sys-surface-container-lowest)"]],template:function(t,n){if(t&1&&(b(0,"aside")(1,"mat-card",0)(2,"mat-card-header")(3,"mat-card-title"),T(4,"Filtrar Pessoas"),w()(),b(5,"mat-card-content")(6,"div",1)(7,"mat-checkbox",2),xe("change",function(o){return n.update(o.checked)}),T(8," Todos "),w(),ne(9,er,2,5,"mat-checkbox",3,Kn),w()()()(),b(11,"div",4),te(12,dr,2,0),w()),t&2){let r;M(7),j("checked",n.peopleFilterHasAll())("indeterminate",!n.peopleFilterHasAll()&&n.peopleFilterHasSome()),M(2),re(n.personRepo.data()),M(3),ie((r=n.data())?12:-1,r)}},dependencies:[Bi,Kt,Oi,_t,Hi,Ut,Se,xt,Qe,Re,ui,hi,fi,mi,Ie,ai,si],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:240px 1fr;gap:48px;padding:48px 0}.person-payer[_ngcontent-%COMP%]{color:var(--mat-sys-primary);font-size:18px;font-weight:500;margin:16px 8px}.person-participant[_ngcontent-%COMP%]{padding:12px 0;display:flex;justify-content:space-between;font-size:14px}.restitution-empty[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:14px;gap:8px}.restitution-amount[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:center;margin:0}"]})};export{Li as TripHome};
